<!DOCTYPE html>
<html>
{% extends "base.html" %}

<head>
{% block head_content %}
<title>{{teacher.firstname}} {{teacher.surname}} Timetable</title>
{% load static %}
<link rel="stylesheet" href="{% static 'stylesheets/pupil_teacher_timetable.css' %}">
{% endblock %}
<style>
{% block styling %}

{% for year_group, colour in colours.items %}
.color_{{ year_group }} {
  background-color: {{colour}};
}
{% endfor %}

{% endblock %}
</style>
</head>

<body>
{% block main_content %}
<table>

{% for time, day_dict in timetable.items %}

<tr>
    {% if forloop.first %}
    <th style="background-color:#876969;color:white;">Start time</th>
    {% for day in day_dict %}
    <th class="perimeter">{{ day|title }}</th>
    {% endfor %}
    {% endif %}
</tr>
<tr>
    <td class="perimeter">{{time}}</td>
    {% for day, klass in day_dict.items %}
    {% if klass == "FREE" or klass == "LUNCH" %}
    <td class="color_{{klass}}">{{ klass|title }}</td>
    {% else %}
    <td class="color_{{klass.pupils.all.0.year_group}}">{{ klass.subject_name|title}}</td>
    {% endif %}

    {% endfor %}
</tr>
{% endfor %}
</table>
{% endblock %}

</body>

</html>