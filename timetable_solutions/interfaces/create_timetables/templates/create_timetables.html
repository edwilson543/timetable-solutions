<!DOCTYPE html>
<html>

{% extends "base.html" %}
{% load static %}

<head>
{% block head_content %}
<title> Create timetables </title>
<link rel="stylesheet" href="{% static 'stylesheets/app_dashboard_base.css' %}">
{% endblock %}

<style>
{% block style_block %}

/* Core panels / buttons in this page */
#info_container {
    grid-row: 2;
    grid-column: 1 / 3;
}
#form_container {
    grid-row: 3;
    grid-column: 1 / 3;
}
#submit_button {
    /* Display */
    width: 100%;
    padding: 5px;
    margin-top: 20px;

    /* Typography */
    font-size: 20px;
    color: white;
    text-align: center;

    /* Border and background */
    border-radius: 5px;
    border: 1px solid #33003d;
    background-color: #004000;
}
#submit_button:hover {
    background-color: #1f1530;
    cursor: pointer;
}
/* Styling for the table that we render the form in */
tr, th, td {
    margin: 15px;
    padding: 15px;
    border-bottom: 1px dotted black;
    text-align: center;
    vertical-align: middle;
    border-radius: 10px;
}
th:hover {
    cursor: pointer;
    background-color: #3d112f;
    color: white;
    font-weight: bold;
    border-radius: 20px;
}

/* Styling for individual form widgets / labels */
label {font-size: 16px;}
label:hover {cursor: pointer;}
input[type=checkbox] {
    width: 20px;
    height: 20px;
    margin-left: 40%;
    margin-right: 40%;
    border-radius: 10px;
}
select {
    width: 100%;
    text-align: left;
    border-radius: 8px;
    font-size: 15px;
}

/* Cannot access page due to insufficient data page */
#no_data_error_message {
    font-size: 20px;
}

#data_upload_link {
    color: #690007;
    text-decoration: underline;
}

{% endblock %}
</style>

</head>

<body>
{% block content %}

<div id="content_container">
    <div id="grid_container">
        <div id="dashboard_title">
            <h4>Generate new timetable solutions</h4>
        </div>
        {% if not ready_to_create %}
        <!--suppress XmlDuplicatedId -->
        <div id="info_container" class="info_frame">
            <div id="no_data_error_message" class="static_error_message">
                You have uploaded insufficient data to start creating timetables.
                Please return to the
                <a href="{% url 'file_upload_page' %}" id="data_upload_link"><b>data upload page</b></a>
                and finish uploading your data!
            </div>
        </div>
        {% else %}
        <!--suppress XmlDuplicatedId -->
        <div id="info_container" class="info_frame">
            <p style="font-size:16px;"><i>
            Please specify your preferences for the timetable structure.<br>
            You can create new solutions by returning to this page at any point.
            Note that doing this will reset any existing timetables!
            </i></p>
        </div>
        <div id="form_container" class="info_frame">
            <form enctype="multipart/form-data" action="{% url 'create_timetables' %}" method="post">
                {% csrf_token %}
                <table>
                    {{ form.as_table }}
                </table>
                <button id="submit_button" type="submit">Get solutions</button>
            </form>
        </div>
        {% endif %}
    </div>
</div>

{% endblock %}
</body>
</html>