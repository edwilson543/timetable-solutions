<!DOCTYPE html>
<html>

{% extends "base.html" %}
{% load static %}

<head>
{% block head_content %}
<title> File upload </title>
<link rel="stylesheet" href="{% static 'stylesheets/app_dashboard_base.css' %}">
{% endblock %}

<style>
{% block style_block %}

/* ====================
Core panels / containers
==================== */
#info_container {
    /* Display - self */
    grid-row: 2;
    grid-column: 1 / 3;
}
#form_container {
    /* Display - contents */
    display: flex;
    flex-direction: column;

    /* Display - self */
    grid-row: 3;
    grid-column: 1 / 3;
}

/* ====================
Upload table content
==================== */
#upload_file_table td {
      text-align: center;
      vertical-align: middle;
      width: 20%;
}
#upload_file_table {
    width: 100%;
    height: 100%;
}

.upload_cell {
  background-color: white;
  border: 1px solid black;
  border-collapse: collapse;
  border-radius: 3px;
  text-align: center;
  padding: 15px;
}

/* ====================
Buttons
==================== */
#partial_reset_button {
    font-size: 15px;
    color: black;
    background-color: grey;
    text-align: center;
    border: 1px solid black;
    border-radius: 1px;
    padding: 2px;
}

#reset_all_button {
    font-size: 15px;
    color: black;
    background-color: grey;
    text-align: center;
    border: 1px solid black;
    border-radius: 1px;
    padding: 2px;
}

.upload_button {
    float: left;
    margin-left: 10%;
}

{% endblock %}
</style>

</head>

<body>
{% block content %}

<div id="content_container">
    <div id="grid_container">
        <div id="dashboard_title">
            <h4>Upload your data</h4>
        </div>
        <div id="info_container" class="info_frame">
            <p style="font-size:16px;"><i>
            The table below lists the different data you will need to upload in order to start creating timetables.
            The structure assumes you have already grouped pupils into sets and assigned teachers and classrooms to
            these sets.<br>
            You can download an example file for each required upload, and reset your uploads at any point.
<!--        TODO - link up button for: You can also view and edit your data at any point.-->
            </i></p>
            {% if error_message is not None %}
                <div class="error_message">
                    {{ error_message }}
                </div>
            {% endif %}
        </div>
        <div id="form_container">
        <table id="upload_file_table">
            {% for required_form in required_forms.values %}
            <tr>
                <td class="upload_cell">{{required_form.form_name}}</td>
                <td class="upload_cell">Placeholder</td>
                <td class="upload_cell">{{ required_form.upload_status_string }}</td>
                {% if not required_form.upload_status %}
                <td class="upload_cell">
                    <form enctype="multipart/form-data" action="{% url required_form.url_name %}" method="post">
                        {% csrf_token %}
                        <table>
                            {{ required_form.empty_form.as_table }}
                        </table>
                        <button class="upload_button" type="submit">
                            Upload
                        </button>
                    </form>
                </td>
                {% else %}
                <td class="upload_cell">
                    <form action=#>
                        <button class="partial_reset_button" type="submit">
                            Reset
                        </button>
                    </form>
                </td>
                {% endif %}
            </tr>
            {% endfor %}
        </table>
        <form action=#>
            <button id="reset_all_button" type="submit">
                Reset all
            </button>
        </form>
        </div>
    </div>
</div>

{% endblock %}
</body>
</html>