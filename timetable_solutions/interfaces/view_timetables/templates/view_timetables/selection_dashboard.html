<!DOCTYPE html>
<html>

{% extends "base.html" %}
{% load static %}

<head>

{% block head_content %}
<title> View timetables </title>
<link rel="stylesheet" href="{% static 'stylesheets/app_dashboard_base.css' %}">
{% endblock %}

<style>
{% block style_block %}
#no_solutions_error {
    font-size: 20px;
}
.no_solutions_link {
    font-size: 20px;
    color: #690007;
}
.no_solutions_link:link {
    text-decoration: underline;
}

#summary_info {
    grid-row: 2 / 4;
    grid-column: 1;
}
#pupil_info {
    grid-row: 2;
    grid-column: 2;
}
#teacher_info {
    grid-row: 3;
    grid-column: 2;
}
.pup_teach_info {
    height: auto;
}
.link_button {
    border-radius: 5px;
    border: 1px solid #33003d;
    width: 90%;
    font-size: 20px;
    padding: 5px;
    color: white;
    text-align: center;
    background-color: #004000;
}
.link_button:hover {background-color: #1f1530;}
ul {padding: 10px;}
li {
    font-size: 20px;
    padding: 10px;
    margin-left: 5px;
}

{% endblock %}
</style>
</head>

<body>
{% block content %}
<div id="content_container">
    {% if not has_solutions %}
        <div id="no_solutions_error" class="error_message">
            No timetables are available yet. First
            <a href="{% url 'file_upload_page' %}" class="no_solutions_link"><b>upload your data</b></a>
            in the correct structure,
            and then visit the
            <a href="{% url 'create_timetables' %}" class="no_solutions_link"><b>create page</b></a>
            to specify your requirements.
        </div>
    {% else %}
    <div id="grid_container">
        <div id="dashboard_title">
            <h4>Timetable solutions have been found!</h4>
        </div>
        <div id="summary_info" class="info_frame">
            <ul>
                <li>Timetable solutions for a total of {{total_classes}} classes have been found -
                {{total_lessons}} lessons will be taught each week</li>

                {% if busiest_day == quietest_day %}
                    <li>Every day of the week has {{ busiest_day_pct }} % of lessons in it</li>
                {% else %}
                    <li>The busiest day of the week is {{busiest_day}},
                        which has {{busiest_day_pct}}% of lessons</li>
                    <li>The quietest day of the week is {{quietest_day}},
                        with only {{quietest_day_pct}}% of lessons</li>
                {% endif %}

                <li>The busiest time on average is {{busiest_time}},
                    which has {{busiest_time_pct}}% of lessons</li>
            </ul>
        </div>

        <div id ="pupil_info" class="pup_teach_info info_frame">
            <ul>
                <li>Timetables have been generated for all {{total_pupils}} pupils</li>
            </ul>
            <hr style="color:black;width:80%;margin-bottom:15px;">
            <a href="{% url 'pupils_navigator' %}" class="link_button">
                View pupil timetables
            </a>
        </div>

        <div id="teacher_info" class="pup_teach_info info_frame">
            <ul>
                <li>Timetables have been generated for all {{total_teachers}} teachers</li>
            </ul>
            <hr style="color:black;width:80%;margin-bottom:15px;">
            <a href="{% url 'teachers_navigator' %}" class="link_button">
                View teacher timetables
            </a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

</body>
</html>
